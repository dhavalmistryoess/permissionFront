<div class="content_block">
  <div class="container-fluid">
    <div class="row">
      <!-- Content -->
      <div class="col-md-12 col-sm-12">
        <div class="title_block">
          <h2 class="float-left">
            {{globals.commonTranslationText.profilePage.title}}</h2>
          <div class="breadcrumb_block float-left">
            <ol class="breadcrumb">
              <li class="breadcrumb-item">
                <a routerLink="/dashboard" *ngIf="globals.authData.RoleId == 3">
                  <i class=" fa fa-home"></i>
                </a>
                <a href="/proctorDashboard" *ngIf="globals.authData.RoleId == 2 || globals.authData.RoleId == 4">
                  <i class="fa fa-home"></i>
                </a>
                <a href="/admin/adminDashboard" *ngIf="globals.authData.RoleId == 1">
                  <i class="fa fa-home"></i>
                </a>
              </li>
              <li class="breadcrumb-item active" aria-current="page">
                {{globals.commonTranslationText.profilePage.breadcrumbTitle}}</li>
            </ol>
          </div>
          <div class="clearfix"></div>
        </div>
        <div class="row d-flex justify-content-center">
          <div class="col-md-12 col-sm-12 edit_profile_block_main">
            <div class="inner_content_block">
              <div class="edit_profile_name_title">
                <div class="float-left">
                  <div class="img_edit_profile">
                    <!-- <span
                      class="letters">{{globals.authData.FirstName.charAt(0)}}{{globals.authData.LastName.charAt(0)}}</span> -->
                    <img *ngIf="profileEntity.ProfileImageName == null || profileEntity.ProfileImageName == ''" id="user_img" src="assets/images/placeholder.png" alt="" class="img-fluid" />
                    <img *ngIf="profileEntity.ProfileImageName != null && profileEntity.ProfileImageName != ''" id="user_img" src="{{globals.baseAPIUrl+profileEntity.ProfileImageUrl+globals.authData.UserId}}/assessment/Documents/{{profileEntity.ProfileImageName}}" alt="" class="img-fluid" />
                    <div class="custom-file">
                      <input type="file" id="editimage" class="userimgupload custom-file-input"
                        aria-describedby="editimage" name="ProfileImageName" 
                        #ProfileImageName="ngModel" [(ngModel)]="profileImageEntity.ProfileImageName" 
                        (change)="profilePictureUpload()">
                      <div class="upload_file_head">
                        <label for="editimage"><i class="fa fa-pencil"></i></label>
                        <i class="fa fa-trash" id="editprofile_img" aria-hidden="true" (click)="profilePictureUpload()" ></i>
                      </div>
                    </div>
                  </div>
                  <!-- <div class="edit_nameemail"><b>{{globals.authData.FirstName | titlecase }}
                      {{globals.authData.LastName | titlecase }}</b>
                    {{globals.authData.EmailAddress}}
                  </div> -->
                  <div class="edit_nameemail"><b>{{profileEntity.FirstName | titlecase }}
                    {{profileEntity.LastName | titlecase }}</b>
                  {{globals.authData.EmailAddress}}
                </div>
                </div>

                <div class="progress_profile float-right">
                  <p>Profile Completion</p>
                  <div class="progress_bar">
                    <div class="circle">
                      <strong></strong>
                    </div>
                  </div>
                </div>
                <div class="clearfix"></div>
              </div>
              <div class="profile_step_block">
                <ul class="nav nav-tabs" id="ProfileTab" role="tablist">
                  <li class="nav-item">
                    <a class="nav-link active" id="personal-info-tab" data-toggle="tab" href="#personal-info" role="tab"
                      aria-controls="personal_info" aria-selected="true" (click)="changepwsd()"><span><i
                          class="fa fa-user"></i></span>
                      {{globals.commonTranslationText.profilePage.tabs.personalInformation}}</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" id="address-info-tab" data-toggle="tab" href="#address-info" role="tab"
                      aria-controls="address_info" aria-selected="false" (click)="changepwsd()"><span><i
                          class="fa fa-map-marker"></i></span>
                      {{globals.commonTranslationText.profilePage.tabs.addressDetail}}</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" id="change-pwsd-tab" data-toggle="tab" href="#change-pwsd" role="tab"
                      aria-controls="change_pwsd" aria-selected="false"><span><i class="fa fa-key"></i></span>
                      {{globals.commonTranslationText.profilePage.tabs.changePassword}}</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" id="document-tab" data-toggle="tab" href="#document" role="tab"
                      aria-controls="document" aria-selected="false" (click)="changepwsd()"><span><i
                          class="fa fa-file-o"></i></span>
                      {{globals.commonTranslationText.profilePage.tabs.document}}</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" id="history-tab" data-toggle="tab" href="#history" role="tab"
                      aria-controls="history" aria-selected="false" (click)="changepwsd()"><span><i
                          class="fa fa-history"></i></span>
                      {{globals.commonTranslationText.profilePage.tabs.orderHistory}}</a>
                  </li>
                </ul>
              </div>
              <div class="paddin_form">
                <div id="accordion" class="mobile_accordion">
                  <div class="tab-content" id="ProfileTabContent">
                    <div class="tab-pane fade show active" id="personal-info" role="tabpanel"
                      aria-labelledby="personal-info-tab">
                      <div class="card mobile_accordion_cards">
                        <div class="card-header mobile_header" id="headingOne">
                          <button data-toggle="collapse" data-target="#collapseOne" aria-expanded="true"
                            aria-controls="collapseOne">
                            <i class="fa fa-user"></i>
                            {{globals.commonTranslationText.profilePage.tabs.personalInformation}}
                          </button>
                        </div>
                        <div id="collapseOne" class="collapse show mobile_collapse" aria-labelledby="headingOne"
                          data-parent="#accordion">
                          <div class="card-body mobile_body">
                            <form role="form" #profileForm1="ngForm" (ngSubmit)="profile1(profileForm1)">
                              <div class="row">
                                <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12 col-12">
                                  <div class="form-group">
                                    <label>
                                      <span>*</span>
                                      {{globals.commonTranslationText.profilePage.personalInformationForm.firstName.label}}
                                    </label>
                                    <input class="form-control" type="text" required #FirstName="ngModel"
                                      [(ngModel)]="profileEntity.FirstName" name="FirstName" id="FirstName"
                                       pattern="^([a-zA-Z',&.$]{2,})$"
                                      [ngClass]="{error: (FirstName.dirty && FirstName.invalid) || errorEntity.FirstName}" maxlength="100">
                                    <span class="error_class" *ngIf="(FirstName.dirty && FirstName.invalid) || errorEntity.FirstName">
                                      <span *ngIf="FirstName.errors && FirstName.errors.required">
                                        {{globals.commonTranslationText.profilePage.personalInformationForm.firstName.required}}
                                      </span>
                                      <span *ngIf="FirstName.errors && FirstName.errors.pattern">
                                        {{globals.commonTranslationText.profilePage.personalInformationForm.firstName.pattern}}
                                      </span>
                                      <span *ngIf="errorEntity.FirstName != ''">
                                        {{errorEntity.FirstName}}
                                      </span>
                                    </span>
                                  </div>
                                </div>
                                <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12 col-12">
                                  <div class="form-group">
                                    <label>
                                      {{globals.commonTranslationText.profilePage.personalInformationForm.middleName.label}}
                                    </label>
                                    <input class="form-control" type="text" name="MiddleName" #MiddleName="ngModel"
                                      [(ngModel)]="profileEntity.MiddleName"
                                      [ngClass]="{error: (MiddleName.dirty && MiddleName.invalid)}"
                                      pattern="^([a-zA-Z',&.$]{2,})$" maxlength="100"/>
                                    <span class="error_class" *ngIf="(MiddleName.dirty && MiddleName.invalid)" >

                                      <span *ngIf="MiddleName.errors && MiddleName.errors.pattern">
                                        {{globals.commonTranslationText.profilePage.personalInformationForm.middleName.pattern}}
                                      </span>
                                    </span>
                                  </div>
                                </div>
                                <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12 col-12">
                                  <div class="form-group">
                                    <label>
                                      <span>*</span>
                                      {{globals.commonTranslationText.profilePage.personalInformationForm.lastName.label}}
                                    </label>
                                    <input class="form-control" type="text" required name="LastName" #LastName="ngModel"
                                      [(ngModel)]="profileEntity.LastName"
                                      [ngClass]="{error: (LastName.dirty && LastName.invalid) || errorEntity.LastName}"
                                      pattern="^([a-zA-Z',&.$]{2,})$" maxlength="100">
                                    <span class="error_class" *ngIf="(LastName.dirty && LastName.invalid) || errorEntity.LastName">
                                      <span *ngIf="LastName.errors && LastName.errors.required">
                                        {{globals.commonTranslationText.profilePage.personalInformationForm.lastName.required}}
                                      </span>
                                      <span *ngIf="LastName.errors && LastName.errors.pattern">
                                        {{globals.commonTranslationText.profilePage.personalInformationForm.lastName.pattern}}
                                      </span>
                                      <span *ngIf="errorEntity.LastName != ''">
                                        {{errorEntity.LastName}}
                                      </span>
                                    </span>
                                  </div>
                                </div>
                                <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12 col-12">
                                  <div class="form-group">
                                    <label>
                                      <span>*</span>
                                      {{globals.commonTranslationText.profilePage.personalInformationForm.phoneNumber.label}}
                                    </label>
                                    <input class="form-control" type="text" required name="PhoneNumber" id="PhoneNumber"
                                      #PhoneNumber="ngModel" [(ngModel)]="profileEntity.PhoneNumber"
                                      pattern="[0-9]{10,13}"
                                      [ngClass]="{error: (PhoneNumber.dirty && PhoneNumber.invalid) || errorEntity.PhoneNumber}" />
                                    <span class="error_class" *ngIf="(PhoneNumber.dirty && PhoneNumber.invalid) || errorEntity.PhoneNumber">
                                      <span *ngIf="PhoneNumber.errors && PhoneNumber.errors.required">
                                        {{globals.commonTranslationText.registerPage.form.phoneNumber.required}}
                                      </span>
                                      <span *ngIf="PhoneNumber.errors && PhoneNumber.errors.pattern">
                                        {{globals.commonTranslationText.registerPage.form.phoneNumber.pattern}}
                                      </span>
                                      <span *ngIf="errorEntity.PhoneNumber != ''">
                                        {{errorEntity.PhoneNumber}}
                                      </span>
                                    </span>
                                  </div>
                                </div>
                              </div>
                              <div class="row">
                                <div class="col-md-12 col-12 col-lg-12 col-sm-12 text-center">
                                  <button class="all_btn theme_btn" type="submit">
                                    {{globals.commonTranslationText.profilePage.buttons.changePassword}}
                                  </button>
                                </div>
                              </div>

                            </form>
                          </div>
                        </div>
                      </div>

                      <div class="clearfix"></div>
                    </div>
                    <div class="tab-pane fade" id="address-info" role="tabpanel" aria-labelledby="address-info-tab">
                      <div class="card mobile_accordion_cards">
                        <div class="card-header mobile_header" id="headingTwo">
                          <button class="collapsed" data-toggle="collapse" data-target="#collapseTwo"
                            aria-expanded="false" aria-controls="collapseTwo">
                            <i class="fa fa-map-marker"></i>
                            {{globals.commonTranslationText.profilePage.tabs.addressDetail}}
                          </button>
                        </div>
                        <div id="collapseTwo" class="collapse mobile_collapse" aria-labelledby="headingTwo"
                          data-parent="#accordion">
                          <div class="card-body mobile_body">
                            <form role="form" #addressForm="ngForm" (ngSubmit)="address(addressForm)">
                              <div class="row">
                                <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12 col-12">
                                  <div class="form-group">
                                    <label>
                                      <span>*</span>
                                      {{globals.commonTranslationText.profilePage.addressInformationForm.address1.label}}
                                    </label>
                                    <input class="form-control" type="text" required name="Address1" #Address1="ngModel"
                                      [(ngModel)]="profileEntity.Address1"
                                      [ngClass]="{error: (Address1.dirty && Address1.invalid) || (Address1.pristine && submitted2 && Address1.errors && Address1.errors.required) || errorEntity.Address1}"
                                      pattern="[a-zA-Z0-9',&.$\ ]{2,}" maxlength="255"/>
                                    <span class="error_class"
                                      *ngIf="(Address1.dirty && Address1.invalid) || (Address1.pristine && submitted2) || errorEntity.Address1">
                                      <span *ngIf="Address1.errors && Address1.errors.required">
                                        {{globals.commonTranslationText.profilePage.addressInformationForm.address1.required}}
                                      </span>
                                      <span *ngIf="Address1.errors && Address1.errors.pattern">
                                        {{globals.commonTranslationText.profilePage.addressInformationForm.address1.pattern}}
                                      </span>
                                      <span *ngIf="errorEntity.Address1 != ''">
                                        {{errorEntity.Address1}}
                                      </span>
                                    </span>
                                  </div>
                                </div>
                                <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12 col-12">
                                  <div class="form-group">
                                    <label>
                                      {{globals.commonTranslationText.profilePage.addressInformationForm.address2.label}}
                                    </label>
                                    <input class="form-control" type="text" name="Address2" #Address2="ngModel"
                                      [(ngModel)]="profileEntity.Address2"
                                      [ngClass]="{error: (Address2.dirty && Address2.invalid)}"
                                      pattern="[a-zA-Z0-9',&.$\ ]{2,}" maxlength="255"/>
                                    <span class="error_class" *ngIf="(Address2.dirty && Address2.invalid)">
                                      <span *ngIf="Address2.errors && Address2.errors.pattern">
                                        {{globals.commonTranslationText.profilePage.addressInformationForm.address2.pattern}}
                                      </span>
                                    </span>
                                  </div>
                                </div>
                                <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12 col-12">
                                  <div class="form-group">
                                    <label><span>*</span>
                                      {{globals.commonTranslationText.profilePage.addressInformationForm.country.label}}
                                    </label>
                                    <kendo-dropdownlist [data]="countryList" [filterable]="false"
                                      [textField]="'CountryName'" [valueField]="'CountryId'" [valuePrimitive]="true"
                                      #CountryId="ngModel" (valueChange)="getStateListadd(addressForm)"
                                      [(ngModel)]="profileEntity.CountryId" name="CountryId"
                                      [ngClass]="{error: (CountryId.dirty && CountryId.invalid) || (CountryId.pristine && submitted2) || errorEntity.CountryId}"
                                      required></kendo-dropdownlist>
                                    <span class="error_class"
                                      *ngIf="(CountryId.dirty && CountryId.invalid) || (CountryId.pristine && submitted2) || errorEntity.CountryId">
                                      <span *ngIf="CountryId.errors && CountryId.errors.required">
                                        {{globals.commonTranslationText.profilePage.addressInformationForm.country.required}}
                                      </span>
                                      <span *ngIf="errorEntity.CountryId != ''">
                                        {{errorEntity.CountryId}}
                                      </span>
                                    </span>
                                  </div>
                                </div>
                                <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12 col-12">
                                  <div class="form-group">
                                    <label><span>*</span>
                                      {{globals.commonTranslationText.profilePage.addressInformationForm.state.label}}
                                    </label>
                                    <kendo-dropdownlist [data]="stateList" [filterable]="false"
                                      [textField]="'StateName'" [valueField]="'StateId'" [valuePrimitive]="true"
                                      #StateId="ngModel" [(ngModel)]="profileEntity.StateId" name="StateId"
                                      [ngClass]="{error: (StateId.dirty && StateId.invalid) || (StateId.pristine && submitted2) || errorEntity.StateId}"
                                      required></kendo-dropdownlist>
                                    <span class="error_class"
                                      *ngIf="(StateId.dirty && StateId.invalid) || (StateId.pristine && submitted2) || errorEntity.StateId">
                                      <span *ngIf="StateId.errors && StateId.errors.required">
                                        {{globals.commonTranslationText.profilePage.addressInformationForm.state.required}}
                                      </span>
                                      <span *ngIf="errorEntity.StateId != ''">
                                        {{errorEntity.StateId}}
                                      </span>
                                    </span>
                                  </div>
                                </div>
                                <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12 col-12">
                                  <div class="form-group">
                                    <label><span>*</span>
                                      {{globals.commonTranslationText.profilePage.addressInformationForm.city.label}}
                                    </label>
                                    <input class="form-control" type="text" name="City" #City="ngModel" required
                                      [(ngModel)]="profileEntity.City"
                                      [ngClass]="{error: (City.dirty && City.invalid) || (City.pristine && submitted2 && City.errors && City.errors.required) || errorEntity.City}"
                                      pattern="[a-zA-Z',&.$\ ]{2,}" maxlength="100"/>

                                    <span class="error_class"
                                      *ngIf="(City.dirty && City.invalid) || (City.pristine && submitted2) || errorEntity.City">
                                      <span *ngIf="City.errors && City.errors.required">
                                        {{globals.commonTranslationText.profilePage.addressInformationForm.city.required}}
                                      </span>
                                      <span *ngIf="City.errors && City.errors.pattern">
                                        {{globals.commonTranslationText.profilePage.addressInformationForm.city.pattern}}
                                      </span>
                                      <span *ngIf="errorEntity.City != ''">
                                        {{errorEntity.City}}
                                      </span>
                                    </span>
                                  </div>
                                </div>
                                <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12 col-12">
                                  <div class="form-group">
                                    <label><span>*</span>
                                      {{globals.commonTranslationText.profilePage.addressInformationForm.zipCode.label}}
                                    </label>
                                    <input class="form-control" type="text" name="ZipCode" #ZipCode="ngModel"
                                      [(ngModel)]="profileEntity.ZipCode" required
                                      [ngClass]="{error: (ZipCode.dirty && ZipCode.invalid) || (ZipCode.pristine && submitted2 && ZipCode.errors && ZipCode.errors.required) || errorEntity.ZipCode}"
                                      pattern="[0-9',&.$\ ]{2,}" maxlength="10" />
                                    <span class="error_class"
                                      *ngIf="(ZipCode.dirty && ZipCode.invalid) || (ZipCode.pristine && submitted2) || errorEntity.ZipCode">
                                      <span *ngIf="ZipCode.errors && ZipCode.errors.required">
                                        {{globals.commonTranslationText.profilePage.addressInformationForm.zipCode.required}}
                                      </span>
                                      <span *ngIf="ZipCode.errors && ZipCode.errors.pattern">
                                        {{globals.commonTranslationText.profilePage.addressInformationForm.zipCode.pattern}}
                                      </span>
                                      <span *ngIf="errorEntity.ZipCode != ''">
                                        {{errorEntity.ZipCode}}
                                      </span>
                                    </span>
                                  </div>
                                </div>
                              </div>
                              <div class="row">
                                <div class="col-md-12 col-12 col-lg-12 col-sm-12 text-center">
                                  <button class="all_btn theme_btn" type="submit">
                                    <span *ngIf="profileEntity.AddressId !='' && profileEntity.AddressId != null">{{globals.commonTranslationText.profilePage.buttons.changePassword}}</span>
                                    <span *ngIf="profileEntity.AddressId =='' || profileEntity.AddressId == null">{{globals.commonTranslationText.profilePage.buttons.save}}</span>
                                  </button>
                                </div>
                              </div>

                            </form>
                          </div>
                        </div>
                      </div>
                      <div class="clearfix"></div>
                    </div>
                    <div class="tab-pane fade" id="change-pwsd" role="tabpanel" aria-labelledby="change-pwsd-tab">
                      <div class="card mobile_accordion_cards">
                        <div class="card-header mobile_header" id="headingThree">
                          <button class="collapsed" data-toggle="collapse" data-target="#collapseThree"
                            aria-expanded="false" aria-controls="collapseThree">
                            <i class="fa fa-key"></i>
                            {{globals.commonTranslationText.profilePage.tabs.changePassword}}
                          </button>
                        </div>
                        <div id="collapseThree" class="collapse mobile_collapse" aria-labelledby="headingThree"
                          data-parent="#accordion">
                          <div class="card-body mobile_body">
                            <form role="form" #changePasswordForm="ngForm"
                              (ngSubmit)="changePassword(changePasswordForm)">
                              <div class="row">
                                <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12 col-12">
                                  <div class="form-group">
                                    <label>
                                      <span>*</span>
                                      {{globals.commonTranslationText.profilePage.changePasswordForm.oldPassword.label}}
                                    </label>
                                    <input class="form-control" type="password" (keyup)="confirmPassword()"
                                      #OldPassword="ngModel" maxlength="100" [(ngModel)]="passwordEntity.OldPassword"
                                      name="OldPassword" id="oldpassword" pattern="[a-zA-Z0-9.-_-@$*&!#]{8,}"
                                      title="Use 8 or more characters with a mix of letters, numbers & symbols(! @ # $ & * _ - )"
                                      [ngClass]="{error: (OldPassword.dirty && OldPassword.invalid) || (OldPassword.pristine && passwordSubmit)}"
                                      required />
                                    <i toggle="#password-field" class="fa fa-fw fa-eye field-icon toggle-password"
                                      id="oldpassword-show"></i>
                                    <span class="error_class"
                                      *ngIf="(OldPassword.dirty && OldPassword.invalid) || (OldPassword.pristine && passwordSubmit)">
                                      <span *ngIf="OldPassword.errors && OldPassword.errors.required">
                                        {{globals.commonTranslationText.profilePage.changePasswordForm.oldPassword.required}}
                                      </span>
                                      <span *ngIf="OldPassword.errors && OldPassword.errors.pattern && !oldnewsame">
                                        {{globals.commonTranslationText.profilePage.changePasswordForm.oldPassword.pattern}}
                                      </span>
                                    </span>
                                  </div>
                                </div>

                                <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12 col-12">
                                  <div class="form-group">
                                    <label>
                                      <span>*</span>
                                      {{globals.commonTranslationText.profilePage.changePasswordForm.newPassword.label}}
                                    </label>
                                    <input type="password" class="form-control" (keyup)="confirmPassword()"
                                      pattern="^([a-zA-Z0-9.-_-@$*&!#]{8,})$" #Password="ngModel" data-toggle="tooltip"
                                      maxlength="100" data-placement="top"
                                      title="Use 8 or more characters with a mix of letters, numbers & symbols(! @ # $ & * _ - )"
                                      [(ngModel)]="passwordEntity.Password" name="Password" id="password"
                                      [ngClass]="{error: (Password.dirty && Password.invalid) || (Password.pristine && passwordSubmit ||(oldnewsame && !(Password.errors && Password.errors.pattern && Password.errors.required)))}"
                                      required />
                                    <i toggle="#password-field" class="fa fa-fw fa-eye field-icon toggle-password"
                                      id="password-show"></i>
                                    <span class="error_class"
                                      *ngIf="(Password.dirty && Password.invalid) || (Password.pristine && passwordSubmit) || oldnewsame">
                                      <span *ngIf="Password.errors && Password.errors.required && !oldnewsame">
                                        {{globals.commonTranslationText.profilePage.changePasswordForm.newPassword.required}}
                                      </span>
                                      <span *ngIf="Password.errors && Password.errors.pattern && !oldnewsame">
                                        {{globals.commonTranslationText.profilePage.changePasswordForm.newPassword.pattern}}
                                      </span>
                                      <span
                                        *ngIf="oldnewsame && !newconfsame && !(Password.errors && Password.errors.pattern && Password.errors.required)">
                                        {{globals.commonTranslationText.profilePage.changePasswordForm.newPassword.different}}
                                      </span>
                                    </span>
                                  </div>
                                </div>
                                <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12 col-12">
                                  <div class="form-group">
                                    <label>
                                      <span>*</span>
                                      {{globals.commonTranslationText.profilePage.changePasswordForm.confirmPassword.label}}
                                    </label>
                                    <input type="password" class="form-control" (keyup)="confirmPassword()"
                                      pattern="[a-zA-Z0-9.-_-@$*&!#]{8,}" #ConfirmPassword="ngModel" maxlength="100"
                                      [(ngModel)]="passwordEntity.ConfirmPassword" name="ConfirmPassword"
                                      id="confpassword"
                                      [ngClass]="{error: (ConfirmPassword.dirty && ConfirmPassword.invalid) || (ConfirmPassword.pristine && passwordSubmit||(newconfsame && !(ConfirmPassword.errors && ConfirmPassword.errors.pattern && ConfirmPassword.errors.required)))}"
                                      required />
                                    <i toggle="#password-field" class="fa fa-fw fa-eye field-icon toggle-password"
                                      id="confpassword-show"></i>
                                    <span class="error_class"
                                      *ngIf="(ConfirmPassword.dirty && ConfirmPassword.invalid) || (ConfirmPassword.pristine && passwordSubmit) || newconfsame">
                                      <span
                                        *ngIf="ConfirmPassword.errors && ConfirmPassword.errors.required && !newconfsame">
                                        {{globals.commonTranslationText.profilePage.changePasswordForm.confirmPassword.required}}
                                      </span>
                                      <span
                                        *ngIf="ConfirmPassword.errors && ConfirmPassword.errors.pattern && !newconfsame">
                                        {{globals.commonTranslationText.profilePage.changePasswordForm.confirmPassword.pattern}}
                                      </span>
                                      <span
                                        *ngIf="newconfsame && !(ConfirmPassword.errors && ConfirmPassword.errors.pattern && ConfirmPassword.errors.required)">
                                        {{globals.commonTranslationText.profilePage.changePasswordForm.confirmPassword.match}}
                                      </span>
                                    </span>
                                  </div>
                                </div>

                              </div>
                              <div class="row">
                                <div class="col-md-12 col-12 col-lg-12 col-sm-12 text-center">
                                  <button class="all_btn theme_btn" type="submit">
                                    {{globals.commonTranslationText.profilePage.buttons.changePassword}}
                                  </button>
                                </div>
                              </div>
                            </form>
                          </div>
                        </div>
                      </div>

                      <div class="clearfix"></div>
                    </div>
                    <div class="tab-pane fade document_accordion" id="document" role="tabpanel"
                      aria-labelledby="document-tab">
                      <div class="card mobile_accordion_cards">
                        <div class="card-header mobile_header" id="headingFour">
                          <button class="collapsed" data-toggle="collapse" data-target="#collapseFour"
                            aria-expanded="false" aria-controls="collapseFour">
                            <i class="fa fa-file-o"></i>
                            {{globals.commonTranslationText.profilePage.tabs.document}}
                          </button>
                        </div>
                        <div id="collapseFour" class="collapse mobile_collapse" aria-labelledby="headingFour"
                          data-parent="#accordion">
                          <div class="card-body mobile_body">
                            <h4 class="float-left">Personal Documents</h4>
                            <div class="clearfix"></div>
                            <div class="uploaded_document_block">
                              <div class="row">
                                <ng-container *ngFor="let UserPersonal of UserPersonalDocuments;let i=index;">
                                  <div class="width_doc" *ngIf="UserPersonal.flag==0">
                                    <div class=" document_block new_upload_block" data-toggle="modal"
                                      (click)="documents(UserPersonal)">
                                      {{UserPersonal.DocumentName}}
                                    </div>
                                  </div>
                                </ng-container>
                                <ng-container *ngFor="let UserPersonal of UserPersonalDocuments;let i = index;">
                                  <div title="UserPersonal.DocumentName" class="complete_uploaded_doc_block" *ngIf='UserPersonal.Ext==".pdf" || UserPersonal.Ext==".PDF"'>
                                    <a href="{{globals.baseAPIUrl+UserPersonal.DocumentUrl+globals.authData.UserId}}/assessment/Documents/{{UserPersonal.CertificateDocumentName}}"
                                        target="_blank"><img alt="" class="img-fluid" src="assets/images/pdf.png"></a>
                                      <button id="adddoc_img"
                                        (click)="documents(UserPersonal)" [disabled]="UserPersonal.UserDocumentCertificateMappingId != null">
                                        <i class="fa fa-pencil" aria-hidden="true"></i>
                                      </button>
                                      <button id="deletedoc_img"
                                        (click)="deletePersonalDocument(UserPersonal)">
                                        <i class="fa fa-trash" aria-hidden="true"></i>
                                      </button>
                                  </div>
                                </ng-container>
                                <ng-container *ngFor="let UserPersonal of UserPersonalDocuments;let i = index;">
                                  <div title="{{UserPersonal.DocumentName}}" class="complete_uploaded_doc_block"
                                  *ngIf='UserPersonal.Ext == ".jpg" || UserPersonal.Ext == ".jpeg" || UserPersonal.Ext == ".png" || UserPersonal.Ext == ".JPG" || UserPersonal.Ext == ".JPEG" || UserPersonal.Ext == ".PNG"'>
                                    <a target="_blank" href="{{globals.baseAPIUrl+UserPersonal.DocumentUrl+globals.authData.UserId}}/assessment/Documents/{{UserPersonal.CertificateDocumentName}}"><img
                                      src="{{globals.baseAPIUrl+UserPersonal.DocumentUrl+globals.authData.UserId}}/assessment/Documents/{{UserPersonal.CertificateDocumentName}}"
                                      alt="" class="img-fluid" /></a>
                                    <button id="adddoc_img"
                                      (click)="documents(UserPersonal)" [disabled]="UserPersonal.UserDocumentCertificateMappingId != null"><!--[disabled]="certificateDetail.DocumentVerificationStatusId == 54 || certificateDetail.DocumentVerificationStatusId == 53"-->
                                      <i class="fa fa-pencil" aria-hidden="true"></i>
                                    </button>
                                    <button id="deletedoc_img"
                                      (click)="deletePersonalDocument(UserPersonal)" [disabled]="UserPersonal.UserDocumentCertificateMappingId != null"><!--[disabled]="certificateDetail.DocumentVerificationStatusId == 54 || certificateDetail.DocumentVerificationStatusId == 53"-->
                                      <i class="fa fa-trash" aria-hidden="true"></i>
                                    </button>

                                  </div>
                                  
                                </ng-container>
                              </div>
                            </div>
                            <div class="clearfix"></div>
                            <h4 class="mt-4">
                              {{globals.commonTranslationText.profilePage.CertificateDocuments.Documents.label}}</h4>
                            <div class="clearfix"></div>
                            <div class="accordion" id="accordiondocument">
                              <div class="card"
                                *ngFor="let certificates of profileEntity.CertificateData;let i = index;let last = last;">
                                <div class="card-header" id="documentheading{{i}}">
                                  <div class="acc_header" [ngClass]="{collapsed: i!=0}" data-toggle="collapse"
                                    [attr.data-target]="'#documentcollapse'+i" aria-expanded="true"
                                    [attr.aria-controls]="'documentcollapse'+i">
                                    <i class="fa plus_minus_acc fa-plus"></i>
                                    <span class="float-left order_text">{{certificates.CertificateName}}</span>
                                    <div class="clearfix"></div>
                                  </div>
                                </div>
                                <div id="documentcollapse{{i}}" class="collapse" [ngClass]="{show: i==0}"
                                  [attr.aria-labelledby]="'documentheading'+i" data-parent="#accordiondocument">
                                  <div class="card-body">
                                    <h5 class="mt-4">Optional Documents</h5>
                                    <div class="uploaded_document_block">
                                      <div class="notice notice-danger"
                                        *ngIf="certificates.OptionalDocuments=='' && certificates.MandatoryDocuments==''">
                                        {{globals.commonTranslationText.profilePage.CertificateDocuments.Documents.Norecord}}
                                      </div>
                                      <div class="row">
                                        <ng-container *ngFor="let documents of certificates.OptionalDocuments;let i=index;">
                                          <div class="width_doc" *ngIf="documents.flag==0">
                                            <div class=" document_block new_upload_block" data-toggle="modal"
                                              (click)="certificatedocuments(certificates,documents,0)">
                                              {{documents.DocumentName}}
                                            </div>
                                          </div>
                                        </ng-container>
                                        <ng-container
                                          *ngFor="let certificateDocument of certificates.OptionalDocuments;let j = index;">
                                          <div title="{{certificateDocument.DocumentName}}" class="complete_uploaded_doc_block"
                                            *ngIf='certificateDocument.Ext==".pdf" || certificateDocument.Ext==".PDF"'>         
                                              <button id="adddoc_img"
                                                (click)="certificatedocuments(certificates,certificateDocument,1)"
                                                [disabled]="certificates.DocumentVerificationStatusId == 54 || certificates.DocumentVerificationStatusId == 53"><i
                                                  class="fa fa-pencil"></i></button>
                                              <button id="deletedoc_img"
                                                (click)="deleteDocument(certificateDocument,certificates,0)"
                                                [disabled]="certificates.DocumentVerificationStatusId == 54 || certificates.DocumentVerificationStatusId == 53"><i
                                                  class="fa fa-trash"></i></button>
                                              <a href="{{globals.baseAPIUrl+certificateDocument.DocumentUrl+globals.authData.UserId}}/assessment/Documents/{{certificateDocument.CertificateDocumentName}}"
                                                target="_blank"><img alt="" class="img-fluid"
                                                  src="assets/images/pdf.png"></a>
                                          </div>
                                        </ng-container>
                                        <ng-container
                                          *ngFor="let certificateDocument of certificates.OptionalDocuments;let j=index;">
                                          <div title="{{certificateDocument.DocumentName}}" class="complete_uploaded_doc_block"
                                            *ngIf='certificateDocument.Ext == ".jpg" || certificateDocument.Ext == ".jpeg" || certificateDocument.Ext == ".png" || certificateDocument.Ext == ".JPG" || certificateDocument.Ext == ".JPEG" || certificateDocument.Ext == ".PNG"'>                                            
                                                <button id="adddoc_img"
                                                  (click)="certificatedocuments(certificates,certificateDocument,1)" 
                                                  [disabled]="certificates.DocumentVerificationStatusId == 54 || certificates.DocumentVerificationStatusId == 53"><i
                                                    class="fa fa-pencil"></i></button>
                                                <button id="deletedoc_img"
                                                  (click)="deleteDocument(certificateDocument,certificates,0)"
                                                  [disabled]="certificates.DocumentVerificationStatusId == 54 || certificates.DocumentVerificationStatusId == 53">                                                  
                                                  <i class="fa fa-trash"></i></button>
                                              <a target="_blank" href="{{globals.baseAPIUrl+certificateDocument.DocumentUrl+globals.authData.UserId}}/assessment/Documents/{{certificateDocument.CertificateDocumentName}}"><img
                                                  src="{{globals.baseAPIUrl+certificateDocument.DocumentUrl+globals.authData.UserId}}/assessment/Documents/{{certificateDocument.CertificateDocumentName}}"
                                                  alt="" class="img-fluid" data-toggle="modal"
                                                  data-target="#lightboxmodal" /></a>
                                            <div class="modal fade item active" id="certificatemodel1{{j}}"
                                              tabindex="-1" role="dialog" aria-labelledby="Lightbox Gallery"
                                              aria-hidden="true">
                                              <div class="modal-dialog modal-dialog-centered" role="document">
                                                <div class="modal-content">
                                                  <button type="button" class="close" data-dismiss="modal"
                                                    aria-label="Close">
                                                    <span class="cancel_modal" aria-hidden="true">&times;</span>
                                                  </button>
                                                  <div class="modal-body">
                                                    <div id="lightbox1{{j}}" class="carousel slide" data-ride="carousel"
                                                      data-interval="5000" data-keyboard="true">
                                                      <div class="carousel-inner">

                                                        <div class="carousel-item active">
                                                          <img
                                                            src="{{globals.baseAPIUrl+certificateDocument.DocumentUrl+globals.authData.UserId}}/assessment/Documents/{{certificateDocument.CertificateDocumentName}}"
                                                            class="img-responsive" alt="">
                                                        </div>
                                                      </div>
                                                    </div>
                                                  </div>
                                                </div>
                                              </div>
                                            </div>
                                          </div>
                                        </ng-container> 
                                        </div>
                                        </div>
                                        <div class="clearfix"></div>

                                        <h5 class="mt-4">Mandatory Documents</h5>
                                        <div class="uploaded_document_block">
                                          <div class="row">
                                            <ng-container *ngFor="let documents of certificates.MandatoryDocuments;let i=index;">
                                              <div class="width_doc" *ngIf="documents.flag==0">
                                                <div class=" document_block new_upload_block" data-toggle="modal"
                                                  (click)="certificatedocuments(certificates,documents,0)">
                                                  {{documents.DocumentName}}
                                                </div>
                                              </div>
                                            </ng-container>
                                            <ng-container
                                              *ngFor="let certificateDocument of certificates.MandatoryDocuments;let j = index;">
                                              <div title="{{certificateDocument.DocumentName}}" class="complete_uploaded_doc_block"
                                                *ngIf='certificateDocument.Ext==".pdf" || certificateDocument.Ext==".PDF"'>  
                                                    <button id="adddoc_img"
                                                      (click)="certificatedocuments(certificates,certificateDocument,1)"
                                                      [disabled]="certificates.DocumentVerificationStatusId == 54 || certificates.DocumentVerificationStatusId == 53"><i
                                                        class="fa fa-pencil"></i></button>
                                                    <button id="deletedoc_img"
                                                      (click)="deleteDocument(certificateDocument,certificates,1)"
                                                      [disabled]="certificates.DocumentVerificationStatusId == 54 || certificates.DocumentVerificationStatusId == 53"><i
                                                        class="fa fa-trash"></i></button>
                                                  <a href="{{globals.baseAPIUrl+certificateDocument.DocumentUrl+globals.authData.UserId}}/assessment/Documents/{{certificateDocument.CertificateDocumentName}}"
                                                    target="_blank"><img alt="" class="img-fluid"
                                                      src="assets/images/pdf.png"></a>
                                                
                                              </div>
                                            </ng-container>
                                        <ng-container
                                          *ngFor="let certificateDocument of certificates.MandatoryDocuments;let j=index;">
                                          <div title="{{certificateDocument.DocumentName}}" class="complete_uploaded_doc_block"
                                            *ngIf='certificateDocument.Ext == ".jpg" || certificateDocument.Ext == ".jpeg" || certificateDocument.Ext == ".png" || certificateDocument.Ext == ".JPG" || certificateDocument.Ext == ".JPEG" || certificateDocument.Ext == ".PNG"'>
                                            
                                              
                                                <button id="adddoc_img" data-toggle="modal"
                                                  (click)="certificatedocuments(certificates,certificateDocument,1)"
                                                  [disabled]="certificates.DocumentVerificationStatusId == 54 || certificates.DocumentVerificationStatusId == 53"><i
                                                    class="fa fa-pencil"></i></button>
                                                <button id="deletedoc_img"
                                                  (click)="deleteDocument(certificateDocument,certificates,1)"
                                                  [disabled]="certificates.DocumentVerificationStatusId == 54 || certificates.DocumentVerificationStatusId == 53" >
                                                  <i class="fa fa-trash"></i></button>
                                              
                                              <a target="_blank" href="{{globals.baseAPIUrl+certificateDocument.DocumentUrl+globals.authData.UserId}}/assessment/Documents/{{certificateDocument.CertificateDocumentName}}"><img
                                                  src="{{globals.baseAPIUrl+certificateDocument.DocumentUrl+globals.authData.UserId}}/assessment/Documents/{{certificateDocument.CertificateDocumentName}}"
                                                  alt="" class="img-fluid" data-toggle="modal"
                                                  data-target="#lightboxmodal" /></a>
                                            <div class="modal fade item active" id="certificatemodel{{j}}" tabindex="-1"
                                              role="dialog" aria-labelledby="Lightbox Gallery" aria-hidden="true">
                                              <div class="modal-dialog modal-dialog-centered" role="document">
                                                <div class="modal-content">
                                                  <button type="button" class="close" data-dismiss="modal"
                                                    aria-label="Close">
                                                    <span class="cancel_modal" aria-hidden="true">&times;</span>
                                                  </button>
                                                  <div class="modal-body">
                                                    <div id="lightbox1{{j}}" class="carousel slide" data-ride="carousel"
                                                      data-interval="5000" data-keyboard="true">
                                                      <div class="carousel-inner">

                                                        <div class="carousel-item active">
                                                          <img
                                                            src="{{globals.baseAPIUrl+certificateDocument.DocumentUrl+globals.authData.UserId}}/assessment/Documents/{{certificateDocument.CertificateDocumentName}}"
                                                            class="img-responsive" alt="">
                                                        </div>
                                                      </div>
                                                    </div>
                                                  </div>
                                                </div>
                                              </div>
                                            </div>

                                          </div>
                                        </ng-container>
                                      </div>
                                    </div>

                                    <div class="clearfix"></div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>

                      <div class="clearfix"></div>
                    </div>
                    <div class="tab-pane fade" id="history" role="tabpanel" aria-labelledby="history-tab">
                      <div class="card mobile_accordion_cards">
                        <div class="card-header mobile_header" id="headingFive">
                          <button class="collapsed" data-toggle="collapse" data-target="#collapseFive"
                            aria-expanded="false" aria-controls="collapseFive">
                            <i class="fa fa-history"></i>
                            {{globals.commonTranslationText.profilePage.tabs.orderHistory}}
                          </button>
                        </div>
                        <div id="collapseFive" class="collapse mobile_collapse" aria-labelledby="headingFive"
                          data-parent="#accordion">
                          <div class="card-body mobile_body">
                            <form class="form-validate" #SearchFilterForm="ngForm"
                              (ngSubmit)="SearchFilter(SearchFilterForm)">
                              <div class="filter_block">
                                <div class="row">
                                  <div class="col-12 col-xl-4 col-lg-4 col-md-12 col-sm-12">
                                    <div class="form-group">
                                      <label>Order ID</label>
                                      <input type="text" #OrderId="ngModel" name="OrderId" class="form-control"
                                        [(ngModel)]="FilterEntity.OrderId" />
                                    </div>
                                  </div>
                                  <div class="col-12 col-xl-4 col-lg-4 col-md-12 col-sm-12">
                                    <div class="form-group">
                                      <label>Order Date</label>
                                      <kendo-daterange>
                                        <label class="mr-3 mr-md-2 mr-xl-2">
                                          <span class="label">Start</span>
                                          <kendo-dateinput kendoDateRangeStartInput name="OrderDateFrom"
                                            #OrderDateFrom="ngModel" [(ngModel)]="FilterEntity.OrderDateFrom">
                                          </kendo-dateinput>
                                        </label>
                                        <label>
                                          <span class="label">End</span>
                                          <kendo-dateinput kendoDateRangeEndInput name="OrderDateTo"
                                            #OrderDateTo="ngModel" [(ngModel)]="FilterEntity.OrderDateTo">
                                          </kendo-dateinput>
                                        </label>
                                      </kendo-daterange>
                                    </div>
                                  </div>
                                  <div class="col-12 col-xl-4 col-lg-4 col-md-12 col-sm-12">
                                    <div class="form-group">
                                      <label>Status</label>
                                      <kendo-multiselect [data]="Statuslist" [filterable]="false"
                                        [textField]="'DisplayText'" [valueField]="'ConfigurationId'"
                                        [valuePrimitive]="true" #statusid="ngModel" [(ngModel)]="FilterEntity.statusid"
                                        name="statusid"
                                        [ngClass]="{error: (statusid.dirty && statusid.invalid) || (statusid.pristine && submitted3)}" placeholder="Select Status"
                                        required></kendo-multiselect>
                                    </div>
                                  </div>
                                  <div class="col-lg-12 text-center">
                                    <button class="all_btn theme_btn mb-5" type="submit">Filter</button>
                                    <button class="all_btn themeoption_btn mb-5" type="button"
                                      (click)="clearData(SearchFilterForm)">Clear</button>
                                  </div>
                                </div>
                              </div>
                            </form>
                            
                            <div class="order_main_block" >
                              <div class="notice notice-danger" *ngIf="orderHistorylist?.length == 0">
                                {{globals.commonTranslationText.profilePage.order.no_record_found}}
                              </div>

                              <div id="orderhistoryaccordion" class="accordion">
                                <div class="card order_block" *ngFor="let orderHistory of orderHistorylist | paginate: { itemsPerPage:5, currentPage: p}; let l = index">
                                  <div class="card-header order_header" id="orderhistoryheading{{l}}">
                                      <div class="acc_header" [ngClass]="{collapsed: l!=0}" data-toggle="collapse" [attr.data-target]="'#orderhistorycollapse'+l" aria-expanded="true" [attr.aria-controls]="'orderhistorycollapse'+l">
                                        <i class="fa plus_minus_acc fa-plus"></i>
                                        <span class="float-left order_text"><b>Order ID</b>:
                                                  {{orderHistory.OrderId}} |
                                                  <b>Ordered on</b>: {{orderHistory.PaymentDate | date:'MM/dd/yyyy'}}
                                                </span>
                                                <span class="float-right status_text" [ngClass]="{
                                                  completed :orderHistory.PaymentStatusId== 49,
                                                  expired : (orderHistory.PaymentStatusId ==51) || (orderHistory.PaymentStatusId ==50)           
                                                }">
                                    {{orderHistory.PaymentStatus}}
                                  </span>
                                                <div class="clearfix"></div>
                                      </div>
                                  </div>
                              
                                  <div id="orderhistorycollapse{{l}}" class="collapse" [ngClass]="{show:l==0}" [attr.aria-labelledby]="'orderhistoryheading'+l" data-parent="#orderhistoryaccordion">
                                    <div class="card-body order_content">
                                      <div class="float-left">
                                        <h5>{{orderHistory.CertificateName}}</h5>
                                        <p>
                                          <span *ngIf="orderHistory.CertificateStatus != 64"><b>Assessment Duration:</b> {{orderHistory.diffDays}} days left<br>
                                          <b>Assessment Expiration Date:</b> {{orderHistory.assessmentExpirationDate | date: 'MM/dd/yyyy'}}<br></span>
                                          <span *ngIf="orderHistory.CertificateStatus == 64">
                                            <b>Certificate Duration:</b> {{orderHistory.CertificationDuration}} months<br>
                                            <span *ngIf="orderHistory.CertificationDuration != 0">
                                          <b>Certification Expiration Date:</b> {{orderHistory.CertificationEndDate | date: 'MM/dd/yyyy'}} months<br
                                          ></span>
                                          <span *ngIf="orderHistory.CertificationDuration == 0">
                                          <b>Certification Expiration Date:</b>
                                          Certificate never expires<br>
                                          </span>
                                        </span>
                                        <b>Certificate Status:</b> {{orderHistory.CertificateStatusText}}<br>
                                          </p>
                                      </div>
                                      <div class="price_block float-right">$
                                        {{orderHistory.OrderAmount}}</div>
                                      <div class="clearfix"></div>
  
                                      <div class="invoice_block float-right"><button
                                          (click)="printInvoice(orderHistory.OrderId)"><i class="fa fa-download"></i>
                                          Invoice</button>
                                        <button (click)="printReceipt(orderHistory.OrderId)"><i
                                            class="fa fa-download"></i>Receipt</button>
                                      </div>
                                      <div class="clearfix"></div>
  </div>
                                  </div>
                                </div>
                              </div>
                              <div class="accordion" id="accordiondocument">
                            </div>
                            </div>
                            <div class="row">
                              <div class="col-md-12 col-sm-12 text-right pagination_block" *ngIf="orderHistorylist!=''">
                                <ul class="pagination float-right">
                                  <pagination-controls (pageChange)="p=$event" previousLabel="" nextLabel="">
                                  </pagination-controls>
                                </ul>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>


                      <div class="clearfix"></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- End Content -->
      <div class="clearfix"></div>
    </div>
  </div>
</div>

<!-- Modal -->
<div class="modal fade" id="documentModal" tabindex="-1" role="dialog" aria-labelledby="documentModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="documentModalLabel">Upload Personal Documents</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <form role="form" #documentForm="ngForm" (ngSubmit)="documentSubmit(documentForm)">
        <div class="modal-body">
          <div class="form-group file_upload">
            <label><span>*</span> Upload</label>
            <input type="text" disabled="" class="form-control">
            <input type="file" id="CertificateDocumentName" name="CertificateDocumentName" class="form-control" required
              #CertificateDocumentName="ngModel" [(ngModel)]="documentEntity.CertificateDocumentName"
              [ngClass]="{error: (CertificateDocumentName.dirty && CertificateDocumentName.invalid) || (CertificateDocumentName.pristine && submitted3)}"
              (change)="fileTypeCheckPersonalDoc(documentEntity.CertificateDocumentName)" required>
            <span class="error_class"
              *ngIf="(CertificateDocumentName.dirty && CertificateDocumentName.invalid) || (CertificateDocumentName.pristine && submitted3)">
              <span *ngIf="CertificateDocumentName.errors && CertificateDocumentName.errors.required">
                {{globals.commonTranslationText.registerPage.tabPanel.documents.required}}
              </span>
            </span>
          </div>
        </div>
        <div class="modal-footer">
          <button type="submit" class="all_btn theme_btn">Upload</button>
        </div>
      </form>


    </div>
  </div>
</div>


<kendo-window title="Upload Documents for {{certificatedocumentEntity.CertiName}}" *ngIf="uploadDocumentPopup" (close)="close()" [minWidth]="250" [width]="450">

    <form class="certificate_old_doc_block" role="form" #CertificatedocumentForm="ngForm" (ngSubmit)="certidocumentSubmit(CertificatedocumentForm)">
        <div class="modal-body">
            <div class="row">
                <div class="width_doc upload_new_doc">
                  <input type="file" id="new_upload_file" #CertificateName="ngModel" name="CertificateName"
                    [(ngModel)]="certificatedocumentEntity.CertificateName"
                    (change)="fileTypeCheck(certificatedocumentEntity.CertificateName,certificatedocumentEntity.CertiDocumentId)">
                 
                  <div class="new_block">
                    Upload New
                  </div>
                  <div class="uploaded_doc_block">
                    <img src="" for="new_upload_file" id="uploaded_doc" />
                    <i class="fa fa-trash" id="deletedoc_img" aria-hidden="true" (click)="Removeimage()"></i>
                  </div>
                </div>
                <div class="or_block"><span>OR</span></div>
                <div class="width_doc" *ngFor="let Image of certificateimage; let i = index;">
                  <div class="img_block" data-toggle="tooltip" data-placement="top" title="Aadhar Card Aadhar Card">

                    <a href="{{globals.baseAPIUrl+Image.DocumentUrl+globals.authData.UserId}}/assessment/Documents/{{Image.CertificateDocumentName}}"
                      target="_blank"><img alt="" class="img-fluid" src="assets/images/pdf.png"></a>
                    <span>{{Image.DocumentName}}</span>
                  </div>
                  <div class="check_box">
                    <input type="checkbox" name="document_select" (click)="imageclick(Image,i)"
                      id="document_select1{{i}}">
                    <label for="document_select1{{i}}"></label>
                  </div>
                </div>
              </div>
          <div>
            <div class="form-group">
              <label>Expiry Date</label>
              <kendo-datepicker [(ngModel)]="certificatedocumentEntity.ExpiryDate" #ExpiryDate="ngModel" 
                [format]="'MM/dd/yyyy'" name="ExpiryDate" id="ExpiryDate"
                [min] = "minDate"  readonly>
              </kendo-datepicker> 
            </div>
          </div>
        </div> 
        <div class="modal-footer modal_minus_margin mt-0 text-right">
          <button class="all_btn theme_btn"  type="submit">Submit</button>
        </div>
      </form>    
    </kendo-window>

    
<div id="printInvoice" style="position: absolute;display: none;
width: 21cm;  
height: 29.7cm; 
margin: 0 auto; 
color: #555555;
background: #FFFFFF; 
font-size: 14px; ">
  <header style="padding: 0 0 10px; margin-bottom: 20px; border-bottom: 1px solid #AAAAAA; content:'';
    display: table;
    clear: both; width: 100%;">
    <div style="float: left;
      margin-top: 0;">
      <img style="height: 90px;" src="http://localhost/OESS_Assessment_Frontend/{{InvoiceEntity.CompanyLogo}}" alt="" />
    </div>
    <div style="float: right;
      text-align: right;">
      <h2 style="font-size: 1.4em;
        font-weight: normal;
        margin: 0 0 0 0; color: #555555; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; ">
        {{InvoiceEntity.CompanyName}}</h2>
      <div style="color: #555555; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; ">
        {{InvoiceEntity.CompanyAddress}}</div>
      <div style="color: #555555; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; ">
        {{InvoiceEntity.CompanyContactNumber}}</div>
      <div><a href="mailto:info@theopeneyes.com"
          style="color: #555555; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; ">{{InvoiceEntity.CompanyEmailAddress}}</a>
      </div>
    </div>
  </header>
  <main>
    <div style="margin-bottom: 30px; content:'';
      display: table;
      clear: both; width: 100%;">
      <div style="padding-left: 6px;
        border-left: 6px solid #0087C3;
        float: left;">
        <div style="color: #555555; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; ">INVOICE TO:</div>
        <h2 style="font-size: 1.4em;
          font-weight: normal;
          color: #555555; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin: 0; ">
          {{InvoiceEntity.InvoiceToName}}</h2>
        <div style="color: #555555; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; ">
          {{InvoiceEntity.InvoiceToAddress}}</div>
        <div><a href="mailto:john@example.com"
            style="color: #555555; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; ">{{InvoiceEntity.InvoiceToAddress}}</a>
        </div>
      </div>
      <div style="float: right;
        text-align: right;">
        <h1 style="color: #0087C3;
          font-size: 2.4em;
          line-height: 1em;
          font-weight: normal;
          margin: 0  0 10px 0; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; ">INVOICE
          {{InvoiceEntity.InvoiceId}}</h1>
        <div style=" font-size: 1.1em;
          color: #555555; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; ">Date of Invoice:
          {{InvoiceEntity.DateOfInvoice | date:'MM/dd/yyyy'}}</div>

        <div style=" font-size: 1.1em;
           color: #555555; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; ">Mode of Payment: Credit Card
        </div>
      </div>
    </div>
    <table border="0" cellspacing="0" cellpadding="0" style=" width: 100%;
      border-collapse: collapse;
      border-spacing: 0;
      margin-bottom: 20px; ">
      <thead>
        <tr>
          <th
            style="padding: 20px; width:30px;
             background: #f0f0f0;
            text-align: center;  border: 1px solid #ddd; font-weight: normal; font-size: 20px; color: #555555; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; ">
            #</th>
          <th
            style="padding: 20px;
            background: #f7f7f7;
            text-align: left;
            border: 1px solid #ddd; border-left:0; color: #555555; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; ">
            DESCRIPTION</th>
          <th
            style="padding: 20px;
               background: #f0f0f0;
            text-align: center;
            border: 1px solid #ddd; border-left:0; width:80px; color: #555555; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; ">
            PRICE</th>
          <!-- <th
            style="padding: 20px;
            background: #f7f7f7;
            text-align: center;
            border: 1px solid #ddd; border-left:0; width:80px; color: #555555; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; ">
            QUANTITY</th>
          <th
            style="padding: 20px;
            text-align: right;
            border: 1px solid #ddd; border-left:0; width:100px; background: #f0f0f0; color: #555555; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; ">
            TOTAL</th> -->
        </tr>
      </thead>
      <tbody>
        <tr>
          <td
            style="
            font-size: 1.6em;padding: 20px;
            text-align: center;
            border: 1px solid #ddd; border-top:0; background: #f0f0f0; color: #555555; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; ">
            01</td>
          <td
            style="text-align: left; padding: 20px;
            background: #f7f7f7;
            border: 1px solid #ddd; border-left:0; border-top:0; color: #555555; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; ">
            <h3 style="color: #57B223;
              font-size: 1.2em;
              font-weight: normal;
              margin: 0 0 0.2em 0; ">{{InvoiceEntity.CertificateName}}</h3><span [innerHTML]="InvoiceEntity.CertificateDescription"></span>
          <td
            style="background: #f0f0f0; font-size: 1.2em; padding: 20px;
               background: #f0f0f0;
            text-align: center;
            border: 1px solid #ddd; border-left:0; border-top:0; color: #555555; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; ">
            ${{InvoiceEntity.CertificateAmount}}</td>
          <!-- <td
            style="font-size: 1.2em; padding: 20px;
            background: #f7f7f7;
            text-align: center;
            border: 1px solid #ddd; border-left:0; border-top:0; color: #555555; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; ">
            1</td>
          <td
            style="font-size: 1.2em; padding: 20px;
            text-align: right;
            border: 1px solid #ddd; border-left:0; border-top:0; background: #f0f0f0; font-weight: bold; color: #555555; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; ">
            ${{InvoiceEntity.CertificateAmount}}</td> -->
        </tr>
      </tbody>
      <tfoot>
        <tr>
          <td style="padding: 10px 20px;
            background: #FFFFFF;
            border-bottom: none;
            font-size: 1.2em;
            white-space: nowrap; 
             border: none; " colspan="2"></td>
          <td
            style="padding: 10px 20px;
            background: #FFFFFF;
            border-bottom: none;
            font-size: 1.2em;
            white-space: nowrap; 
            border: none; text-align: right; color: #555555; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; "
            colspan="2">SUBTOTAL</td>
          <td
            style="padding: 10px 20px;
            background: #FFFFFF;
            border-bottom: none;
            font-size: 1.2em;
            white-space: nowrap; 
            border: none; text-align: right; color: #555555; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; ">
            ${{InvoiceEntity.SubTotalAmount}}</td>
        </tr>
        <tr>
          <td style="padding: 10px 20px;
            background: #FFFFFF;
            border-bottom: none;
            font-size: 1.2em;
            white-space: nowrap; 
            " colspan="2"></td>
          <td
            style="padding: 10px 20px;
            background: #FFFFFF;
            border-bottom: none;
            font-size: 1.2em;
            white-space: nowrap; 
            border-top: 1px solid #AAAAAA; text-align: right; color: #555555; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; "
            colspan="2">TAX {{InvoiceEntity.TaxInPercentage}}%</td>
          <td
            style="padding: 10px 20px;
            background: #FFFFFF;
            border-bottom: none;
            font-size: 1.2em;
            white-space: nowrap; 
            border-top: 1px solid #AAAAAA; text-align: right; color: #555555; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; ">
            ${{InvoiceEntity.TaxAmount}}</td>
        </tr>
        <tr>
          <td style="padding: 10px 20px;
            background: #FFFFFF;
            border-bottom: none;
            color: #57B223;
            font-size: 1.4em;
            white-space: nowrap; " colspan="2"></td>
          <td style="padding: 10px 20px;
            background: #FFFFFF;
            border-bottom: none;
            color: #57B223;
            font-size: 1.4em;
            border-top: 1px solid #57B223; 
            white-space: nowrap; text-align: right; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; "
            colspan="2">GRAND TOTAL</td>
          <td
            style="padding: 10px 20px;
            background: #FFFFFF;
            border-bottom: none;
            color: #57B223;
            font-size: 1.4em;
            border-top: 1px solid #57B223; 
            white-space: nowrap; text-align: right; font-weight: bold;  font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; ">
            ${{InvoiceEntity.TotalAmount}}</td>
        </tr>
      </tfoot>
    </table>
    <div style="font-size: 2em;
      margin-bottom: 50px; color: #555555; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; ">Thank you!
    </div>
    <div style="padding-left: 6px;
      border-left: 6px solid #0087C3; color: #555555; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; ">
      <div>NOTICE:</div>
      <div style="font-size: 1.2em;">A finance charge of 1.5% will be made on unpaid balances after 30 days.</div>
    </div>
  </main>
  <footer style="
    width: 100%;
    height: 30px;
    position: absolute;
    bottom: 0;
    border-top: 1px solid #AAAAAA;
    padding: 8px 0;
    text-align: center; color: #555555; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; ">
    Invoice was created on a computer and is valid without the signature and seal.
  </footer>
</div>
<div id="printeReceipt" style="position: relative; display: none;
    width: 21cm;  
    height: 29.7cm; 
    margin: 0 auto; 
    color: #555555;
    background: #FFFFFF; 
    font-size: 14px;">
  <header style="padding: 0; margin-bottom: 10px; content:'';
    display: table;
    clear: both; width: 100%;">
    <div style="float: left;
      margin: 10px 15px 10px 10px;">
      <img style="height: 90px;" CompanyLogo src="http://myopeneyes.devbyopeneyes.com/images/logo.png" alt="" />
    </div>
    <div style="float: left;
      text-align: left;  margin: 5px 0 10px 0;">
      <h2 style="font-size: 1.4em;
                font-weight: normal;
                margin: 0 0 0 0; color: #555555; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; ">
        {{ReceiptEntity.CompanyName}}</h2>
      <div style="color: #555555; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; ">
        {{ReceiptEntity.CompanyAddress}}</div>
      <div style="color: #555555; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; ">
        {{ReceiptEntity.CompanyContactNumber}}</div>
      <div><a href="mailto:info@theopeneyes.com"
          style="color: #555555; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; ">{{ReceiptEntity.CompanyEmailAddress}}</a>
      </div>
    </div>
    <div style="float: right;
      text-align: right; position: relative; top: 55px;  margin: 10px">
      <div style=" font-size: 1.1em;
       color: #555555; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; ">Receipt Number:
        {{ReceiptEntity.ReceiptNumber}}</div>
      <div style=" font-size: 1.1em;
           color: #555555; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; ">Date of Payment:
        {{ReceiptEntity.DateOfPayment | date:'MM/dd/yyyy'}}</div>
    </div>
  </header>
  <main>
    <div style="margin-bottom: 15px; content:'';
      display: table;
      clear: both; width: 100%;">
      <div style="display: block;  background: #f7f7f7; border:1px solid #f7f7f7; padding: 20px 10px 20px 10px; 
        text-align: center;">
        <h1 style="
          font-size: 2.0em;
          line-height: 1em;
          font-weight: normal;
          margin: 0 0 0; color: #555555; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; ">Payment Receipt
        </h1>
      </div>
    </div>
    <table border="0" cellspacing="0" cellpadding="0" style=" width: 100%;
      border-collapse: collapse;
      border-spacing: 0;
     font-size: 15px; ">
      <tbody>
        <tr>
          <td style="padding: 10px;"><span
              style="display: inline-block; color: #555555; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; ">Received
              From: </span>
            <div style="border-bottom: 1px solid #ddd;
            width: 335px;
            display: inline-block;
            margin-left: 10px;
            padding: 6px 0; color: #555555; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; ">
              {{ReceiptEntity.ReceivedFrom}}</div>
            <span
              style="display: inline-block; color: #555555; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; ">Amount:
            </span>
            <div
              style="border: 1px solid #ddd;
           width: 130px;
           display: inline-block;
           margin: 0 0px 0 10px;
           padding: 6px 10px; font-weight: bold; color: #555555; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; ">
              ${{ReceiptEntity.Amount}}</div>
          </td>
        </tr>
        <tr>
          <td style="padding: 10px;">
            <span style="color: #555555; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; ">Amount in words:
            </span>
            <div style="border-bottom: 1px solid #ddd;
            width: 555px;
            display: inline-block;
            margin-left: 10px;
            padding: 6px 0; color: #555555; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; ">
              {{ReceiptEntity.Amountword}}</div>
          </td>
        </tr>
        <tr>
          <td style="padding: 10px; color: #555555; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; ">
            <span>For Payment of: </span>
            <div style="border-bottom: 1px solid #ddd;
            width: 570px;
            display: inline-block;
            margin-left: 10px;
            padding: 6px 0; color: #555555; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; ">
              {{ReceiptEntity.ForPaymentOf}} Certificate</div>
          </td>
        </tr>
      </tbody>
    </table>
    <table border="0" cellspacing="0" cellpadding="0" style=" width: 100%;
      border-collapse: collapse;
      border-spacing: 0;
      margin-bottom: 10px; font-size: 15px; ">
      <tr>
        <td style="width: 45%; padding: 10px;">
          <table border="0" cellspacing="0" cellpadding="0" style=" width: 100%;
            border-collapse: collapse;
            border-spacing: 0; font-size: 15px; border:1px solid #ddd;">
            <tr>
              <td
                style="padding: 8px; text-align: left; border-right:1px solid #ddd; border-bottom:1px solid #ddd; color: #555555; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; ">
                SUBTOTAL</td>
              <td
                style="padding: 8px; text-align: right; border-bottom:1px solid #ddd; color: #555555; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; ">
                ${{ReceiptEntity.SubTotalAmount}}</td>
            </tr>
            <tr>
              <td
                style="padding: 8px; text-align: left; border-right:1px solid #ddd; border-bottom:1px solid #ddd;color: #555555; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; ">
                TAX 25%</td>
              <td
                style="padding: 8px; text-align: right; border-bottom:1px solid #ddd;color: #555555; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; ">
                ${{ReceiptEntity.TaxAmount}}</td>
            </tr>
            <tr>
              <td
                style="padding: 8px; text-align: left; border-right:1px solid #ddd; font-weight: bold;color: #555555; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; ">
                TOTAL</td>
              <td
                style="padding: 8px; text-align: right; font-weight: bold;color: #555555; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; ">
                ${{ReceiptEntity.TotalAmount}}</td>
            </tr>
          </table>
        </td>
        <td
          style="padding: 10px; vertical-align: top;color: #555555; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; ">
          <span style="color: #555555; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; ">Received By:
          </span>
          <div style="border-bottom: 1px solid #ddd;
          width: 270px;
          display: inline-block;
          margin-left: 10px;
          padding: 6px 0;color: #555555; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; ">
            {{ReceiptEntity.ReceivedBy}}</div><br>
          <span style="color: #555555; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; ">Payment Made By:
          </span>
          <div
            style="border-bottom: 1px solid #ddd;
         width: 230px;
         display: inline-block;
         margin: 10px 0px 0 10px;
         padding: 6px 0; font-weight: bold; color: #555555; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; ">
            Credit Card</div>
        </td>
      </tr>
    </table>
  </main>
  <footer style="
    width: 100%;
    height: 30px;
    position: absolute;
    bottom: 0;
    border-top: 1px solid #AAAAAA;
    padding: 8px 0;
    text-align: center; color: #555555; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">
    Receipt was created on a computer and is valid without the signature and seal.
  </footer>
</div>

<div class="overlay" *ngIf="uploadDocumentPopup" (click)="overlay_close()"></div>